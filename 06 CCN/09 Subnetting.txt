Subnetting: When we have to do the division of the main network then we use the subnetting which gives different networks by dividing the same main network. Actually we use it in classless because main ip address may lose more IP addresses so we divide it into more small networks and use each network by losing small number IP addressses instead of large.

Procedure:
1) Identify the class for the IP address to which you are going to make subnetting and also get its default subnet.
2) Convert its subnet into binary
3) Note the required number of host need per sub network and find the subnet generator and octet position of this.
4) Create the subnet
5) Create the ranges of each small network (which get from the big network)


Example: Subnet the IP address 196.10.20.0 into 52 hosts in each subnet(subnetwork)

Solution:
1) Class is C and the default subnet is 255.255.255.0
2) Binary of default subnet is 11111111.11111111.11111111.00000000
3) 52 hosts are needed. So for getting SG and its octet we need few sub steps
            1) Binary of (host needed) here,, 52   ---- Binary of 52 is 110100 (here may have some leading 0's but always ignore them and right the binary where from the 1 occur)
            2) Count the binary bits and reserve those bits into the binary of default subnet (by starting from right to left)
                    And reserve means just those bits would be 0 else would be 1 because we learn that consective 1 and consective 0. 
                Here, 6 bits so subnet of default becomes:
                    11111111.11111111.11111111.11000000 (So reserve the 6 bits and make remaining 2 also 1)
            3) Now from right to left if we see then look for the first 1 occurence and get its decimal value and that decimal value would be SG and the octet in which it occur would be the octet position
                Here, 11111111.11111111.11111111.11000000
                Get that particular octet, 1    1   0   0   0   0   0   0
                                           128  64  32  16  8   4   2   1 

                So the first 1 occur at 64 so the SG is 64 and this occurenece is within the 4th octet

4) New subnet would be the addition of the decimal values of where 1 occur in the octet position.
    Here, 4th octet and 1 occur at: 64 + 128 = 192 so the last octet was for the host in default subnet so, new subnet is:
        255.255.255.192 /26 where /26 show the number of  1 bits in our final binary subnet 

5) Ranges start from the IP given in the question and the next range starts from the  addition of SG here, 64:

1) 196.10.20.0 -- 196.10.20.63
2) 196.10.20.64  -- 196.10.20.127
3) 196.10.20.128  -- 196.10.20.191
4) 196.10.20.192  -- 196.10.20.255

This whole make the total of IP addresses as the default subnet but now we divide them into small networks.
Each range can communicate within itself hosts using switch 
But one range cant communicate with other range using switch because now the network change based on the subnet 255.255.255.192

Similarly each range has first address for the netwrok and the last address for the broadcast address of the network.



Different scenrios for SG:
    Maybe the SG become in the third octet then again start count that octet acc to table. and determine the SG

For Example: You get the SG 2 in the third octet then ranges of networks would be:
Supoose Given Ip was 150.15.0.0

150.15.0.0              Ending 150.15.1.255 Because the next starting is 150.15.2.0 so we come till 1.255 
add SG at their octet
150.15.2.0  here not 150.15.0.2 because we are in third octet and so the 2 of third octet is actually allow the 512 are hosts alloed so we have to jump of 2... Ending would be 150.15.3.255

150.15.4.0 150.15.5.255
150.15.6.0 150.15.7.255
150.15.8.0 
    SO on until the actaul ip get to end.




Another case: 128 is SG and starting IP is 10.0.0.0

10.0.0.0       Ending 10.0.0.127
add 128 
10.0.0.128          10.0.0.255 becasue next start after this 
add 128 = 512 so we dont write 512 instead we make it 0 and add 1 to previous octet
10.0.1.0    10.0.1.127
10.0.1.128  10.0.1.255
10.0.2.0    10.0.2.127





Troubleshooting: For Example we have given with the host which has IP and Subnet.
But it unable to communicate with the other hosts of its network so we have to troubleshoot this.

We will be given with the IP and its subnet.
                                            192.168.1.127 and subnet is 255.255.255.224
SOlution:
    We convert its  subnet into the binary    11111111.11111111.11111111.11100000 so SG is 32
    Get the SG  32
    Make the network range.
            192.168.1.0 192.168.1.31
            192.168.1.32 192.168.1.63
            192.168.1.64 192.168.1.95
            192.168.1.96 192.168.1.127 Here our IP.
            192.168.1.128 192.168.1.159
    Check weather the IP which is given to the host neiher a network address nor a broadcast address.
    If it is then we identify the problem

        So our problem is that our host has the IP address which was for the network broadcast that was the problem 


Troubleshoot No:2 
Solution:
    1- Convert the subnet into the binary
    2- Get the SG
    3- Make the ranges
    We found that host IP addresses was not netwrok address and not a broadcast address. Then what is the reason?
    Reason was that Host belong to other network and the gateway belong to some other network. and we are communicating them using the switch. So here is problem.

    Change the host IP to the same network of the gateway is the solution

    
    For finding the network address of the given IP
    Solution:
        You can use above method and the the IP range, first address would be the network address.
        2nd Method:
            Take binary of given Ip
            Take binary of given subnet
                Do And operation on them
            Result is in binary and convert into decimal
            This is your netwrok address

            FOR EXAMPLE IP: 25.34.12.56/16 then its subnet mask is of 255.255.0.0 because this binary has 16 bits for network 


    For Finding the broadcast address of the given IP 
         You can use traditional as above method and the particular IP range, last address would be the broadcast address.
         2nd Method:
            Take binary of the given IP
            Take binary of the given subnet
            Take 1's complement of the subnet Binary
                Do the OR operation with the binary of IP and the complemented binary
            Result in binary and convert into decimal and this is result


        Example: An organization using class B for its 64 departments. But now to do the classless so give the subnet for this.
        Solution: 
            Here we have to make network of 64 departments (not here hosts dependend,, here network dependend)
            Step 1: Take binary of the Class B subnet 11111111.11111111.00000000.00000000
            Step 2: Now we need netwrok for 64 department means 2^6. so we need 6 bits to reserve in the default subnet binary
            Step 3: 11111111.11111111.11111100.00000000 Here note that we reserve bit from left not right because here we are preparing based on the network not the host. So the reserve bits should be consective with netwrok side.
            Step 4: Convert into the decimal and that is yours subnet



        Example: Class B has subnet mask is 255.255.248.0, how many hosts are possible?
        Solution:
            Binary of subnet is: 11111111.11111111.11111000.0000000
            So left the first 2 octets as they are 255.255 and the 3rd and 4th octet are where we check:
            3rd octet has 5 1's so 2^5 are subnets
            and total 0's in 3rd and 4th are 2^11 -2 = 2046

        
        Example: Class B and use 6 bit subnet then tell how many subnets and host possible maximum
        Solution:
            Default subnet binary
            Add 6 bits as reserve in third octet as first 2 are non changeable. As we are dealing with subnet so left to right
            Take 2^6 = subnet  -2  here -2 because we have to find maximum
            Take 2^10 = hosts - 2

        
        Example: Given C1 computer and C2 computer. Both have IP and subnet given. Question is that what c1 thinks about c2 either same network or not or what c2 thinks about C2
        Solution:
        We can simply do and operation of the IP with subnet and get the network address for C1 and C2 respectively. If they match then same network else not.
        But here also check what they think about each other.

        So actually when the C1 has to communicate with the C2 it use its Ip address and do the and operation with its subnet to get the network address. If this matches
        the C1 network address then they are on the same network else not according to the C1.
        Similarly, C2 also do the same thing while communicating with C1 and if it find same then consider both are on same network otherwise think C1 is on different network 

        Example: Given A and B computers with their Ip's. Options have given subnet mask and question is that which subnet mask shows they are on different netwrok
        Solution: Take Computer 1 Ip and do AND operation with the OPTION A subnet mask = network address , then do same for computer B. If both network address match then they are on same netwrok if not then on different netwrok. 
        DO this for all options when you find not matching the same network address then it means this is the subnet where both A and B are not on same netwrok



    Fixed Length Subnet masking: Suppose the 6 networks connected to each other. Then if we go with classful then we use the Class as per the need of hosts. Here suppose max use of hosts are 20 then definately go with class C. But here we would lost alot of IP's in the one network and also the other networks which require less hosts then there more ips would be lost.
    As its fixed length subnetting then the subnet mask should be same for each network.


    ClassLess: Here we do classless subnetting (here as we have 6 networks so do the subnetting of the network which require max hosts) and assign the to each network with the same subnet mask which we would drived in classless.
        Here also lost Ip's but less. and the loss get increase as the other networks maybe require less hosts than the more ips lost.

        For this solution we use the VLSM (Variable length Subnet Mask)


    VLSM: As above we do the subnetting by taking the max number of host and assign each range to each network and many ip get lose because every network demand for host is different(less than max)

    In this wo do the subnetting for the max hosts require and generate the 1st range. 
    But for generating the 2nd range we change the hosts from max to 2nd last max. 
    and add that SG to the new octet position. Now this 2nd range is for the 2nd netwrok.
    Now Similarly do for the third and fourth and fifth and sixth networks.

NOTE:
    Now our subnet would not be remain same for all networks. instead we have differnet subnet masks for each network.
    These subnet masks we get by following the steps of classless. in the third step when we get the SG and octet. There when we left with remaining 1's after fixing the 0's for the host bits. These count bits show with the ip like

    123.126.112.15 /27  These are actually the count of 1's in new subnet binary and when we convert that binary then may get like 255.255.254.254,,, something like that. 
    123.126.112.15 /25 
    123.126.112.15 /24 

Example: If given an Ip with subnet mask and ask to divide it  it half for A and quater for B and C 

Solution: Get the subnet binary.
            The number of 0's will tell the total number of host like 2^6 maybe. 6 are the 0's
            Divide the this 2^6/2(half) = A and 2^6/4 to B and C